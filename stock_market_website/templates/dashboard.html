{% extends 'base.html' %}
{% block content %}
    <h1 class="text-center">Dashboard for {{ symbol }}</h1>

    <form method="GET" action="/dashboard">
        <input type="hidden" name="symbol" value="{{ symbol }}">
        <label for="range">Select Time Range:</label>
        <select name="range" id="range" class="form-select">
            <option value="7" {% if time_range == '7' %}selected{% endif %}>Last 7 Days</option>
            <option value="30" {% if time_range == '30' %}selected{% endif %}>Last 30 Days</option>
            <option value="90" {% if time_range == '90' %}selected{% endif %}>Last 90 Days</option>
        </select>
        <button type="submit" class="btn btn-primary mt-2">Apply</button>
    </form>

    <div class="row">
        <!-- Static Closing Price Line Chart -->
        <div class="col-md-6">
            <h3>Closing Price Trend</h3>
            <img src="{{ url_for('static', filename='closing_price.png') }}" alt="Closing Price Trend" class="img-fluid">
        </div>

        <!-- Static Volume Bar Chart -->
        <div class="col-md-6">
            <h3>Volume Trend</h3>
            <img src="{{ url_for('static', filename='volume_chart.png') }}" alt="Volume Trend" class="img-fluid">
        </div>
    </div>

    <div class="row mt-5">
        <h3>Predicted Stock Prices for Next 5 Days</h3>
        <ul>
            {% for date, price in future_data %}
            <li>{{ date }}: ${{ price[0] }}</li>
            {% endfor %}
        </ul>
    </div>

    <!-- Add predicted stock price visualization -->
    <div class="row mt-5">
        <h3>Stock Price Prediction</h3>
        <img src="{{ url_for('static', filename='predicted_stock.png') }}" alt="Predicted Stock Prices" class="img-fluid">
    </div>

    <div class="row mt-5">
        <h3>Box Plot of Closing Prices</h3>
        <img src="{{ url_for('static', filename='boxplot.png') }}" alt="Box Plot of Closing Prices" class="img-fluid">
    </div>

    <a href="/stock?symbol={{ symbol }}" class="btn btn-secondary mt-3">Back to Stock Data</a>
{% endblock %}
